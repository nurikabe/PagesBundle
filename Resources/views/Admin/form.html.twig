<form action="{{ path }}" method="post" class="form-stacked" {{ form_enctype(form) }}>
    {% if app.session.hasFlash('page-error') %}
        <div class="alert-message block-message error">
              <p>{{ app.session.flash('page-error')|raw }}</p>

              {{ form_errors(form) }}
              {{ form_errors(form.title) }}
              {{ form_errors(form.parent) }}
              {{ form_errors(form.template) }}
        </div>
    {% endif %}

    <div class="clearfix{% if form_errors(form.title) %} error{% endif %}">
        {{ form_label(form.title) }}
        <div class="input">
            {{ form_widget(form.title, { 'attr': {'class': 'span11'} }) }}
        </div>
    </div>

    <div class="clearfix{% if form_errors(form.parent) %} error{% endif %}">
        {{ form_label(form.parent) }}
        <div class="input">
            {{ form_widget(form.parent) }}
        </div>
    </div>

    <div class="clearfix{% if form_errors(form.template) %} error{% endif %}">
        {{ form_label(form.template) }}
        <div class="input">
            {{ form_widget(form.template) }}
        </div>
    </div>

    {{ form_rest(form) }}

    <div class="actions">
        <button type="submit" class="btn primary">Save</button>

        {% if page.id %}
            <a class="btn error" href="{{ path('LansolePagesBundle_page_delete', { 'slug': page.slug }) }}" confirm="Are you sure?">Delete</a>
            <a class="btn" href="{{ path('LansolePagesBundle_page', { 'path': page.path }) }}">Cancel</a>
        {% else %}
            <a class="btn" href="{{ path('homepage') }}">Cancel</a>
        {% endif %}
    </div>
</form>